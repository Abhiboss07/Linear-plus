(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[141],{4895:function(e,t,s){Promise.resolve().then(s.bind(s,9790))},9790:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var r=s(3827),a=s(4090),n=s(7977);let i=(0,n.Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),l=(0,n.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),c=(0,n.Z)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),o=(0,n.Z)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),d=(0,n.Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),x=(0,n.Z)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function u(){let[e,t]=(0,a.useState)(!1),[s,n]=(0,a.useState)([]),[i,l]=(0,a.useState)(""),c=(0,a.useRef)(null);async function u(){if(!i.trim())return;l(""),n(e=>[...e,{role:"user",content:i}]);let e=await fetch("/api/ai/assistant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:i})}),t=await e.json();n(e=>[...e,{role:"ai",content:t.reply}])}return(0,a.useEffect)(()=>{c.current&&(c.current.scrollTop=c.current.scrollHeight)},[s]),(0,r.jsxs)(r.Fragment,{children:[!e&&(0,r.jsx)("button",{onClick:()=>t(!0),className:"fixed right-6 bottom-6 w-12 h-12 bg-indigo-500 hover:bg-indigo-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-105 z-50",children:(0,r.jsx)(o,{size:20})}),e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>t(!1)}),(0,r.jsxs)("div",{className:"fixed top-0 right-0 h-full w-[400px] bg-[#121314] border-l border-[#262729] shadow-2xl transform transition-transform duration-300 ease-in-out z-50 flex flex-col ".concat(e?"translate-x-0":"translate-x-full"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-[#262729]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-[#F2F3F5]",children:[(0,r.jsx)(o,{size:16,className:"text-indigo-500"}),(0,r.jsx)("span",{className:"font-medium text-sm",children:"Linear Assistant"})]}),(0,r.jsx)("button",{onClick:()=>t(!1),className:"text-[#8A8F98] hover:text-[#F2F3F5] transition-colors",children:(0,r.jsx)(d,{size:18})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",ref:c,children:[0===s.length&&(0,r.jsx)("div",{className:"text-center mt-20 text-[#8A8F98] text-sm px-8",children:(0,r.jsx)("p",{children:"Ask me to draft issues, summarize projects, or find duplicate tickets."})}),s.map((e,t)=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsx)("div",{className:"\n                        max-w-[85%] rounded-lg px-3 py-2 text-sm leading-relaxed\n                        ".concat("user"===e.role?"bg-[#1E1F21] text-[#F2F3F5] border border-[#262729]":"bg-indigo-500/10 text-indigo-200 border border-indigo-500/20","\n                    "),children:e.content})},t))]}),(0,r.jsx)("div",{className:"p-4 border-t border-[#262729] bg-[#121314]",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{className:"w-full bg-[#1E1F21] border border-[#262729] rounded-md py-2.5 pl-3 pr-10 text-sm text-[#F2F3F5] placeholder-[#50545C] focus:outline-none focus:border-[#5E6AD2] focus:ring-1 focus:ring-[#5E6AD2] transition-all",placeholder:"Ask AI...",value:i,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&u()}),(0,r.jsx)("button",{onClick:u,className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-[#8A8F98] hover:text-indigo-400 transition-colors",children:(0,r.jsx)(x,{size:14})})]})})]})]})}function h(e){let{params:t}=e,[s,n]=(0,a.useState)([]),[o,d]=(0,a.useState)("");async function x(){if(!o)return;let e=await fetch("/api/ai/enhance-issue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:o})});n([...s,await e.json()]),d("")}return(0,r.jsxs)("div",{className:"flex h-full",children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col min-w-0",children:[(0,r.jsxs)("header",{className:"px-8 py-4 border-b border-[#262729] flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-5 h-5 bg-indigo-500 rounded text-[10px] font-bold flex items-center justify-center text-white",children:"P"}),(0,r.jsx)("h1",{className:"font-medium",children:t.projectId}),(0,r.jsx)("span",{className:"text-[#8A8F98]",children:"/"}),(0,r.jsx)("span",{className:"text-[#8A8F98] text-sm",children:"Active Issues"})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)("button",{className:"p-1.5 hover:bg-[#1E1F21] rounded text-[#8A8F98] transition-colors",children:(0,r.jsx)(i,{size:16})})})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto p-8",children:[(0,r.jsxs)("div",{className:"mb-8 relative group",children:[(0,r.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#8A8F98]",children:(0,r.jsx)(l,{size:16})}),(0,r.jsx)("input",{className:"w-full bg-[#121314] border border-[#262729] rounded-lg py-3 pl-10 pr-4 text-sm text-[#F2F3F5] placeholder-[#50545C] focus:outline-none focus:border-[#5E6AD2] focus:ring-1 focus:ring-[#5E6AD2] transition-all",placeholder:"Create new issue with AI...",value:o,onChange:e=>d(e.target.value),onKeyDown:function(e){"Enter"!==e.key||e.shiftKey||(e.preventDefault(),x())}}),(0,r.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-1.5",children:(0,r.jsx)("span",{className:"text-[10px] bg-[#1E1F21] border border-[#262729] text-[#8A8F98] px-1.5 py-0.5 rounded",children:"â†µ"})})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[0===s.length&&(0,r.jsx)("div",{className:"text-center py-20 text-[#8A8F98] text-sm",children:"No issues yet. Create one above."}),s.map((e,t)=>(0,r.jsxs)("div",{className:"group flex items-center gap-3 px-3 py-2 -mx-3 rounded hover:bg-[#1E1F21] cursor-default border border-transparent hover:border-[#262729] transition-colors",children:[(0,r.jsx)("div",{className:"pt-0.5 text-[#5E6AD2]",children:(0,r.jsx)(c,{size:14,strokeWidth:2.5})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"text-sm font-medium truncate",children:e.title}),(0,r.jsx)("p",{className:"text-xs text-[#8A8F98] truncate",children:e.description})]}),(0,r.jsx)("div",{className:"text-[10px] font-medium uppercase tracking-wider text-[#8A8F98] px-1.5 py-0.5 rounded border border-[#262729]",children:e.priority||"No Priority"})]},t))]})]})]}),(0,r.jsx)(u,{})]})}},7977:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var r=s(4090);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),i=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:d="",children:x,iconNode:u,...h}=e;return(0,r.createElement)("svg",{ref:t,...o,width:a,height:a,stroke:s,strokeWidth:i?24*Number(n)/Number(a):n,className:l("lucide",d),...!x&&!c(h)&&{"aria-hidden":"true"},...h},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(x)?x:[x]])}),x=(e,t)=>{let s=(0,r.forwardRef)((s,n)=>{let{className:c,...o}=s;return(0,r.createElement)(d,{ref:n,iconNode:t,className:l("lucide-".concat(a(i(e))),"lucide-".concat(e),c),...o})});return s.displayName=i(e),s}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=4895)}),_N_E=e.O()}]);